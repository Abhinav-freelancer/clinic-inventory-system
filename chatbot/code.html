<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jan-Arogya: AI Health Companion</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f0f9f4;
        }
        .chat-container {
            max-height: calc(100vh - 180px);
        }
        .input-container {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(5px);
        }
        .typing-indicator span {
            animation: bounce 1.5s infinite ease-in-out;
        }
        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }
        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }
        @keyframes bounce {
            0%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-8px); }
        }
        .emergency-button {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(220, 38, 38, 0); }
            100% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0); }
        }
        .avatar-img {
            filter: drop-shadow(0px 4px 8px rgba(0, 0, 0, 0.1));
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">
    <!-- Header with emergency options -->
    <header class="bg-gradient-to-r from-green-700 to-green-900 text-white p-4 shadow-md">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/f97ddd5a-bfff-4931-88e9-b09163a70253.png" alt="Jan-Arogya logo showing Ayurvedic leaf symbol in gold with green background" class="rounded-full avatar-img">
                <h1 class="text-xl font-bold">Jan-Arogya</h1>
            </div>
            <div class="flex items-center space-x-3">
                <button id="language-btn" class="px-3 py-1 bg-white text-green-800 rounded-full text-sm font-medium flex items-center">
                    <i class="fas fa-globe mr-1"></i> भाषा
                </button>
                <button id="emergency-btn" class="emergency-button px-3 py-1 bg-red-600 text-white rounded-full text-sm font-medium flex items-center">
                    <i class="fas fa-bell mr-1"></i> EMERGENCY
                </button>
            </div>
        </div>
    </header>

    <!-- Hero section with features -->
    <div class="bg-green-100 py-4 px-6 border-b border-green-200">
        <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/11260b09-fe51-4677-b93b-f24a398bdd84.png" alt="Illustration of diverse Indian community accessing healthcare via smartphones in rural setting with mobile clinic in background" class="w-full rounded-lg mb-3">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
            <div class="feature-card p-3 bg-white rounded-lg shadow-sm">
                <div class="text-green-600 mb-1"><i class="fas fa-language text-2xl"></i></div>
                <div class="text-xs font-medium">25 Languages</div>
            </div>
            <div class="feature-card p-3 bg-white rounded-lg shadow-sm">
                <div class="text-green-600 mb-1"><i class="fas fa-stethoscope text-2xl"></i></div>
                <div class="text-xs font-medium">AYUSH-WHO Verified</div>
            </div>
            <div class="feature-card p-3 bg-white rounded-lg shadow-sm">
                <div class="text-green-600 mb-1"><i class="fas fa-microphone text-2xl"></i></div>
                <div class="text-xs font-medium">Voice Input</div>
            </div>
            <div class="feature-card p-3 bg-white rounded-lg shadow-sm">
                <div class="text-green-600 mb-1"><i class="fas fa-heart text-2xl"></i></div>
                <div class="text-xs font-medium">Mental Health</div>
            </div>
        </div>
    </div>

    <!-- Main chat area -->
    <main class="flex-1 container mx-auto p-4 overflow-hidden">
        <div class="chat-container overflow-y-auto mb-4 space-y-4">
            <!-- Welcome message -->
            <div class="chat-message bot-message flex items-start">
                <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/797a4d2c-9996-44a0-a798-586705ab2baf.png" alt="Friendly doctor bot avatar wearing traditional Indian kurta with clipboard" class="rounded-full w-9 h-9 mr-3 mt-1 avatar-img">
                <div class="flex-1">
                    <div class="bg-white p-4 rounded-xl rounded-tl-none shadow-sm max-w-3xl">
                        <div class="font-medium text-green-800 mb-1"><i class="fas fa-robot mr-1"></i> Jan-Arogya</div>
                        <p class="text-gray-800">नमस्ते! I'm your AI health companion. I can help with:</p>
                        <div class="grid grid-cols-2 gap-2 mt-2">
                            <button class="quick-action-btn bg-green-50 text-green-800 text-sm px-3 py-2 rounded-full flex items-center justify-center shadow-sm">
                                <i class="fas fa-head-side-cough mr-2"></i> Symptoms
                            </button>
                            <button class="quick-action-btn bg-green-50 text-green-800 text-sm px-3 py-2 rounded-full flex items-center justify-center shadow-sm">
                                <i class="fas fa-leaf mr-2"></i> Ayurveda
                            </button>
                            <button class="quick-action-btn bg-green-50 text-green-800 text-sm px-3 py-2 rounded-full flex items-center justify-center shadow-sm">
                                <i class="fas fa-smile-beam mr-2"></i> Mental Health
                            </button>
                            <button class="quick-action-btn bg-green-50 text-green-800 text-sm px-3 py-2 rounded-full flex items-center justify-center shadow-sm">
                                <i class="fas fa-hospital-user mr-2"></i> Telehealth
                            </button>
                        </div>
                        <div class="mt-3 text-xs text-gray-500">
                            <i class="fas fa-shield-alt mr-1"></i> All advice is verified against AYUSH and WHO guidelines with blockchain audit trail.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Input area -->
    <div class="input-container py-3 px-4 border-t">
        <div class="container mx-auto">
            <div class="flex items-center bg-white rounded-full px-4 py-2 shadow-md">
                <button id="mic-btn" class="text-gray-500 hover:text-green-600 mx-1">
                    <i class="fas fa-microphone text-xl"></i>
                </button>
                <button id="image-btn" class="text-gray-500 hover:text-green-600 mx-1">
                    <i class="fas fa-image text-xl"></i>
                </button>
                <input type="text" id="chat-input" placeholder="Type your health concern..." class="flex-1 border-0 focus:ring-0 text-gray-800 px-3 py-2">
                <button id="send-btn" class="bg-green-600 text-white rounded-full p-2 w-10 h-10 flex items-center justify-center ml-2">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
            <div class="text-center mt-2">
                <span class="inline-block text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full">
                    Select language: 
                    <select id="lang-select" class="bg-transparent border-0 text-xs text-gray-700 focus:ring-0">
                        <option value="hi">Hindi</option>
                        <option value="en">English</option>
                        <option value="bn">Bengali</option>
                        <option value="mr">Marathi</option>
                        <option value="te">Telugu</option>
                        <option value="ta">Tamil</option>
                    </select>
                </span>
            </div>
        </div>
    </div>

    <!-- Language Modal -->
    <div id="language-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl p-6 max-w-md w-full mx-4">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-bold text-gray-900">Select Language</h3>
                <button id="close-lang-modal" class="text-gray-400 hover:text-gray-600">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="grid grid-cols-3 gap-2">
                <button class="lang-option py-2 px-3 bg-green-100 text-green-800 rounded-lg text-sm">
                    हिन्दी
                </button>
                <button class="lang-option py-2 px-3 bg-gray-100 text-gray-800 rounded-lg text-sm">
                    English
                </button>
                <button class="lang-option py-2 px-3 bg-gray-100 text-gray-800 rounded-lg text-sm">
                    বাংলা
                </button>
                <button class="lang-option py-2 px-3 bg-gray-100 text-gray-800 rounded-lg text-sm">
                    मराठी
                </button>
                <button class="lang-option py-2 px-3 bg-gray-100 text-gray-800 rounded-lg text-sm">
                    తెలుగు
                </button>
                <button class="lang-option py-2 px-3 bg-gray-100 text-gray-800 rounded-lg text-sm">
                    தமிழ்
                </button>
            </div>
            <div class="mt-4 text-xs text-gray-500">
                More regional dialects available in app settings.
            </div>
        </div>
    </div>

    <!-- Emergency Modal -->
    <div id="emergency-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl p-6 max-w-md w-full mx-4">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-bold text-red-700">Emergency Assistance</h3>
                <button id="close-emergency-modal" class="text-gray-400 hover:text-gray-600">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="space-y-4">
                <button class="w-full py-3 px-4 bg-red-100 text-red-800 rounded-lg font-medium flex items-center justify-between">
                    <span>Call Local Ambulance</span>
                    <i class="fas fa-ambulance"></i>
                </button>
                <button class="w-full py-3 px-4 bg-orange-100 text-orange-800 rounded-lg font-medium flex items-center justify-between">
                    <span>Connect to e-Sanjeevani</span>
                    <i class="fas fa-video"></i>
                </button>
                <button class="w-full py-3 px-4 bg-blue-100 text-blue-800 rounded-lg font-medium flex items-center justify-between">
                    <span>Nearest Health Center</span>
                    <i class="fas fa-map-marker-alt"></i>
                </button>
                <div class="text-center text-xs text-gray-500 mt-2">
                    Your location will be shared with emergency services if enabled.
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // UI Elements
            const chatContainer = document.querySelector('.chat-container');
            const chatInput = document.getElementById('chat-input');
            const sendBtn = document.getElementById('send-btn');
            const micBtn = document.getElementById('mic-btn');
            const imageBtn = document.getElementById('image-btn');
            const languageBtn = document.getElementById('language-btn');
            const emergencyBtn = document.getElementById('emergency-btn');
            const langSelect = document.getElementById('lang-select');
            
            // Modals
            const languageModal = document.getElementById('language-modal');
            const closeLangModal = document.getElementById('close-lang-modal');
            const emergencyModal = document.getElementById('emergency-modal');
            const closeEmergencyModal = document.getElementById('close-emergency-modal');
            const langOptions = document.querySelectorAll('.lang-option');
            
            // Event Listeners
            sendBtn.addEventListener('click', sendMessage);
            chatInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') sendMessage();
            });
            
            languageBtn.addEventListener('click', function() {
                languageModal.classList.remove('hidden');
            });
            
            closeLangModal.addEventListener('click', function() {
                languageModal.classList.add('hidden');
            });
            
            emergencyBtn.addEventListener('click', function() {
                emergencyModal.classList.remove('hidden');
            });
            
            closeEmergencyModal.addEventListener('click', function() {
                emergencyModal.classList.add('hidden');
            });
            
            langOptions.forEach(option => {
                option.addEventListener('click', function() {
                    langOptions.forEach(opt => {
                        opt.classList.remove('bg-green-100', 'text-green-800');
                        opt.classList.add('bg-gray-100', 'text-gray-800');
                    });
                    this.classList.remove('bg-gray-100', 'text-gray-800');
                    this.classList.add('bg-green-100', 'text-green-800');
                    setTimeout(() => languageModal.classList.add('hidden'), 500);
                });
            });
            
            // Quick action buttons
            document.querySelectorAll('.quick-action-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const action = this.textContent.trim();
                    simulateBotResponse(`You selected: ${action}. How can I help you with this?`);
                });
            });
            
            // Mock function to send message (would integrate with actual API in production)
            function sendMessage() {
                const message = chatInput.value.trim();
                if (!message) return;
                
                // Add user message to chat
                addMessageToChat(message, 'user');
                chatInput.value = '';
                
                // Show typing indicator
                showTypingIndicator();
                
                // Simulate bot response after delay
                setTimeout(() => {
                    hideTypingIndicator();
                    simulateBotResponse(getResponseForMessage(message));
                }, 1500);
            }
            
            function addMessageToChat(message, sender) {
                const messageDiv = document.createElement('div');
                messageDiv.className = `chat-message ${sender}-message flex items-start ${sender === 'user' ? 'justify-end' : ''}`;
                
                if (sender === 'bot') {
                    messageDiv.innerHTML = `
                        <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/8dd215b0-e761-4d28-b9e8-bc41e32872eb.png" alt="Friendly doctor bot avatar wearing traditional Indian kurta with clipboard" class="rounded-full w-9 h-9 mr-3 mt-1 avatar-img">
                        <div class="flex-1">
                            <div class="bg-white p-4 rounded-xl rounded-tl-none shadow-sm max-w-3xl">
                                <div class="font-medium text-green-800 mb-1"><i class="fas fa-robot mr-1"></i> Jan-Arogya</div>
                                <p class="text-gray-800">${message}</p>
                            </div>
                        </div>
                    `;
                } else {
                    messageDiv.innerHTML = `
                        <div class="flex-1 flex justify-end">
                            <div class="bg-green-600 text-white p-4 rounded-xl rounded-tr-none shadow-sm max-w-3xl">
                                <div class="font-medium mb-1"><i class="fas fa-user mr-1"></i> You</div>
                                <p>${message}</p>
                            </div>
                        </div>
                    `;
                }
                
                chatContainer.appendChild(messageDiv);
                scrollToBottom();
            }
            
            function showTypingIndicator() {
                const typingDiv = document.createElement('div');
                typingDiv.className = 'chat-message bot-message flex items-start';
                typingDiv.id = 'typing-indicator';
                typingDiv.innerHTML = `
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/4b4e7d10-1084-4d92-82ce-42ef14fcccba.png" alt="Friendly doctor bot avatar wearing traditional Indian kurta with clipboard" class="rounded-full w-9 h-9 mr-3 mt-1 avatar-img">
                    <div class="flex-1">
                        <div class="bg-white p-4 rounded-xl rounded-tl-none shadow-sm max-w-xs">
                            <div class="typing-indicator flex space-x-1">
                                <span class="w-2 h-2 bg-green-500 rounded-full"></span>
                                <span class="w-2 h-2 bg-green-500 rounded-full"></span>
                                <span class="w-2 h-2 bg-green-500 rounded-full"></span>
                            </div>
                        </div>
                    </div>
                `;
                
                chatContainer.appendChild(typingDiv);
                scrollToBottom();
            }
            
            function hideTypingIndicator() {
                const typingIndicator = document.getElementById('typing-indicator');
                if (typingIndicator) {
                    typingIndicator.remove();
                }
            }
            
            function scrollToBottom() {
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }
            
            // Simple mock response system
            function getResponseForMessage(message) {
                message = message.toLowerCase();
                
                if (message.includes('fever') || message.includes('बुखार')) {
                    return `For fever consideration:<br><br>
                            <strong>Allopathic Suggestion:</strong> Take paracetamol 500mg every 6 hours if temperature is above 38°C.<br><br>
                            <strong>Ayurvedic Suggestion:</strong> Drink tulsi (holy basil) tea with ginger and honey. Apply sandalwood paste on forehead if burning sensation persists.<br><br>
                            <strong>Emergency:</strong> If fever persists beyond 3 days or is above 103°F (39.4°C), please seek immediate medical attention.`;
                } else if (message.includes('headache') || message.includes('सिरदर्द')) {
                    return `For headache management:<br><br>
                            <strong>Allopathic Suggestion:</strong> Common pain relievers like ibuprofen may help.<br><br>
                            <strong>Ayurvedic Suggestion:</strong> Try nasya therapy with 2 drops of anu taila in each nostril. Massage forehead with Brahmi oil.<br><br>
                            <strong>Mental Health Tip:</strong> Headaches can be stress-related. Try deep breathing exercises for 5 minutes.`;
                } else if (message.includes('stress') || message.includes('तनाव')) {
                    return `Mental health support:<br><br>
                            <strong>Ayurvedic Routine:</strong> Practice Shavasana (corpse pose) for 15 minutes daily. Drink warm milk with a pinch of nutmeg before bed.<br><br>
                            <strong>Allopathic Suggestion:</strong> Regular exercise and proper sleep schedule can help manage stress.<br><br>
                            <strong>Telehealth:</strong> Would you like to schedule an online counseling session? Tip: You can say "Connect me to a counselor"`;
                } else if (message.includes('cough') || message.includes('खांसी')) {
                    return `For cough relief:<br><br>
                            <strong>Allopathic Suggestion:</strong> Stay hydrated. Over-the-counter cough suppressants may help.<br><br>
                            <strong>Ayurvedic Suggestion:</strong> Make a drink with 1 tsp honey, 1/4 tsp turmeric, and warm water.<br><br>
                            <strong>Warning:</strong> If cough persists beyond 2 weeks or has blood, consult doctor immediately.`;
                } else {
                    return `I'm analyzing your query. As per AYUSH guidelines integrated with WHO protocols, please provide more details about:<br><br>
                            <strong>1.</strong> Duration of symptoms<br>
                            <strong>2.</strong> Severity (mild/moderate/severe)<br>
                            <strong>3.</strong> Any other associated symptoms<br><br>
                            Tip: You can also describe in your regional language or use voice input for convenience.`;
                }
            }
            
            function simulateBotResponse(message) {
                addMessageToChat(message, 'bot');
                
                // Sometimes suggest follow-up options
                if (Math.random() > 0.6) {
                    setTimeout(() => {
                        const followupDiv = document.createElement('div');
                        followupDiv.className = 'chat-message bot-message flex items-start mt-2';
                        followupDiv.innerHTML = `
                            <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/6e6a9711-f64d-4de5-933a-5f52b3218548.png" alt="Friendly doctor bot avatar wearing traditional Indian kurta with clipboard" class="rounded-full w-9 h-9 mr-3 mt-1 avatar-img">
                            <div class="flex-1">
                                <div class="bg-white p-4 rounded-xl rounded-tl-none shadow-sm max-w-3xl">
                                    <p class="text-gray-800 mb-2">Would you like additional guidance on:</p>
                                    <div class="flex flex-wrap gap-2">
                                        <button class="followup-btn bg-blue-50 text-blue-800 text-xs px-3 py-1 rounded-full shadow-sm">
                                            Home remedies
                                        </button>
                                        <button class="followup-btn bg-blue-50 text-blue-800 text-xs px-3 py-1 rounded-full shadow-sm">
                                            Diet suggestions
                                        </button>
                                        <button class="followup-btn bg-blue-50 text-blue-800 text-xs px-3 py-1 rounded-full shadow-sm">
                                            Yoga poses
                                        </button>
                                    </div>
                                </div>
                            </div>
                        `;
                        
                        chatContainer.appendChild(followupDiv);
                        scrollToBottom();
                        
                        // Add event listeners to new buttons
                        document.querySelectorAll('.followup-btn').forEach(btn => {
                            btn.addEventListener('click', function() {
                                simulateBotResponse(`For <strong>${this.textContent.trim()}</strong>: Here are detailed recommendations customized based on your current condition...`);
                            });
                        });
                    }, 800);
                }
            }
            
            // Simulate initial interaction
            setTimeout(() => {
                simulateBotResponse("Before we begin, please confirm:<br><br>1. This is not a life-threatening emergency<br>2. You understand this is pre-diagnostic advice<br><br>Your health data is encrypted via blockchain for safety verification.");
            }, 2000);
        });
    </script>
</body>
</html>

